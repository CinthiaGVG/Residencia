{% extends 'Core/base.html' %}

{% block content %}

<div class="container-fluid">
        <div class="row">
            <div class="col-12">
              <div class="card">
                <div class="card-body">
                  <!-- Create book button -->
                  <button id="create-dojo" class="btn btn-primary" type="button" name="button">Crear Dojo</button>
                </div>
                <div class="card-body">
                  <div class="table-responsive">
                    <table id="table_id" class="table table-striped table-sm table-bordered">
                      <thead>
                        <tr>                                                     
                            <th>Nombre</th>  
                            <th>Sensei</th>  
                            <th>Tel.</th>    
                            <th>Actualizar</th>  
                            <th></th>                          
                        </tr>
                      </thead>
                      <tbody>
                         {% for form_m in object_list %}
                          <tr>                                                                                  
                              <td>{{form_m.NombreDojo}}</td>
                              <td>{{form_m.NombreSensei}}</td>
                              <td>{{form_m.Tel}}</td>
                             <td><button type="button" class="update-dojo bs-modal btn btn-sm btn-primary" data-form-url="{% url 'dojo:update' form_m.pk %}">
                                  <span class="fa fa-pencil"></span>
                                  </button></td>                              
                              <td> <button type="button" class="delete-book bs-modal btn btn-sm btn-danger" data-form-url="{% url 'dojo:update' form_m.pk %}">
                                  <span class="fa fa-trash"></span>
                                  </button>
                              </td>
                            </tr>
                          {% endfor %}
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
</div>
<div class="modal fade" tabindex="-1" role="dialog" id="modal">
  <div class="modal-dialog" role="document">
    <div class="modal-content"></div>
  </div>
</div>

<script type="text/javascript">

  $(document).ready(function() {
    $('#table_id').DataTable({"columnDefs": [
        {"className": "dt-center", "targets": "_all"}
      ]});
    });

$(document).ready(function() {
    $("#create-dojo").modalForm({
        formURL: "{% url 'dojo:create' %}"
    });
      $(".update-dojo").each(function () {
        $(this).modalForm({formURL: $(this).data("form-url")});
    });
});
</script>
{% endblock %}